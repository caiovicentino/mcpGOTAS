# Smithery configuration file
startCommand:
  type: stdio
  configSchema:
    type: object
    properties:
      GOTAS_API_KEY:
        type: string
        description: "API key for the Gotas Commerce payment platform"
      GOTAS_BASE_URL:
        type: string
        default: "https://commerce.gotas.com"
        description: "Base URL for the Gotas Commerce API"
  commandFunction: |
    (config) => {
      // Initialize environment variables without authentication
      const env = {
        PYTHONUNBUFFERED: "1"
      };
      
      // These will only be accessed during tool calls, not initialization
      if (config.GOTAS_API_KEY) {
        env.GOTAS_API_KEY = config.GOTAS_API_KEY;
      }
      
      if (config.GOTAS_BASE_URL) {
        env.GOTAS_BASE_URL = config.GOTAS_BASE_URL;
      }
      
      return {
        command: 'python',
        args: ['-c', 'from src.gotas_mcp_server import app; import uvicorn; uvicorn.run(app, host="0.0.0.0", port=8000)'],
        env
      };
    }
  exampleConfig:
    GOTAS_API_KEY: "your_api_key_here"

build:
  dockerfile: "./Dockerfile"
