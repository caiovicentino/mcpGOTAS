# Smithery configuration file: https://smithery.ai/docs/config/smithery.yaml
startCommand:
  type: stdio
  configSchema:
    type: object
    required:
      - GOTAS_API_KEY
    properties:
      GOTAS_API_KEY:
        type: string
        description: "API key for the Gotas Commerce payment platform"
      GOTAS_BASE_URL:
        type: string
        default: "https://commerce.gotas.com"
        description: "Base URL for the Gotas Commerce API"
  commandFunction: |
    (config) => {
      const env = {};
      
      // Allow listing tools without authentication
      // Only add credentials when needed for actual tool calls
      if (config.GOTAS_API_KEY) {
        env.GOTAS_API_KEY = config.GOTAS_API_KEY;
      }
      
      if (config.GOTAS_BASE_URL) {
        env.GOTAS_BASE_URL = config.GOTAS_BASE_URL;
      } else {
        env.GOTAS_BASE_URL = "https://commerce.gotas.com";
      }
      
      return {
        command: 'python',
        args: ['-m', 'src.gotas_mcp_server'],
        env
      };
    }
  exampleConfig:
    GOTAS_API_KEY: "your_gotas_commerce_api_key_here"

build:
  dockerfile: "./Dockerfile"
  dockerBuildPath: "."
